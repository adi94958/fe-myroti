"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[372],{372:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(2791),l=a(5294),i=a(2937),n=a(4846),t=a(3400),c=a(184);const d=()=>{const[e,s]=(0,r.useState)(""),[a,d]=(0,r.useState)([]),[o,h]=(0,r.useState)(!1),[x,j]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[p,g]=(0,r.useState)(1),[N,v]=(0,r.useState)(10),b=[10,25,50,u.length];(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("dataLogin"));j(e.id),_()}),[]);const _=()=>{l.Z.get("https://be-myroti-production.up.railway.app/api/kurir/datapenjualan").then((e=>{m(e.data)})).catch((e=>{console.error("Error fetching data:",e)}))},k=u.filter((s=>{var a,r;const l=((null===s||void 0===s||null===(a=s.nama_lapak)||void 0===a||null===(r=a.toString())||void 0===r?void 0:r.toLowerCase())||"").includes(e.toLowerCase()),i="finished"==(null===s||void 0===s?void 0:s.status),n=(null===s||void 0===s?void 0:s.id_kurir)===x;return i&&n&&l})),f=(p-1)*N,y=N===u.length?u.length:f+N,S=k.slice(f,y),C=f+1,w=Math.min(f+N,k.length),R=0===k.length;return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.rb,{children:(0,c.jsx)(i.b7,{children:(0,c.jsxs)(i.xH,{children:[(0,c.jsx)(i.bn,{children:"Data Pengiriman Kurir"}),(0,c.jsxs)(i.sl,{children:[(0,c.jsx)(i.lx,{className:"mb-3",children:(0,c.jsxs)(i.rb,{children:[(0,c.jsx)(i.b7,{md:8,xs:6,children:(0,c.jsxs)(i.YR,{children:[(0,c.jsx)(i.jO,{type:"text",placeholder:"Search...",value:e,onChange:e=>s(e.target.value)}),(0,c.jsx)(i.u5,{variant:"outline",className:"ms-2",children:(0,c.jsx)(n.Z,{icon:t.j})})]})}),(0,c.jsx)(i.b7,{md:2,xs:3,children:(0,c.jsx)(i.L8,{children:"Rows Per Page:"})}),(0,c.jsx)(i.b7,{md:2,xs:3,children:(0,c.jsx)(i.LX,{className:"form-select",value:N,onChange:e=>{return s=parseInt(e.target.value),g(1),void v(s);var s},children:b.map((e=>(0,c.jsx)("option",{value:e,children:e===u.length?"All":e},e)))})})]})}),(0,c.jsxs)(i.Sx,{striped:!0,bordered:!0,responsive:!0,children:[(0,c.jsx)(i.V,{children:(0,c.jsxs)(i.T6,{children:[(0,c.jsx)(i.is,{children:"No"}),(0,c.jsx)(i.is,{children:"Lapak"}),(0,c.jsx)(i.is,{children:"Alamat Lapak"}),(0,c.jsx)(i.is,{children:"Tanggal Pengambilan"}),(0,c.jsx)(i.is,{children:"Roti"}),(0,c.jsx)(i.is,{children:"Uang Setoran"}),(0,c.jsx)(i.is,{children:"Status"})]})}),(0,c.jsx)(i.NR,{children:0===S.length?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"7",className:"text-center",children:"Tidak ada data."})}):S.map(((e,s)=>(0,c.jsxs)(i.T6,{children:[(0,c.jsx)(i.NN,{children:f+s+1}),(0,c.jsx)(i.NN,{children:e.nama_lapak}),(0,c.jsx)(i.NN,{children:e.alamat_lapak}),(0,c.jsx)(i.NN,{children:e.tanggal_pengambilan}),(0,c.jsx)(i.NN,{children:(0,c.jsxs)(i.u5,{color:"primary",variant:"outline",className:"ms-2",title:"Daftar Roti",onClick:()=>(async e=>{try{const s=await l.Z.get("https://be-myroti-production.up.railway.app/api/kurir/riwayat-transaksi/".concat(e.id_transaksi));if(!(s.status>=200&&s.status<300))throw new Error("Gagal mengambil data roti");{const e=s.data;d(e.detail_roti),h(!0)}}catch(s){console.error("Terjadi kesalahan:",s.message)}})(e),children:[(0,c.jsx)(n.Z,{icon:t.j,className:"mx-12 me-2"}),"Open Detail"]})}),(0,c.jsx)(i.NN,{children:e.uang_setoran}),(0,c.jsx)(i.NN,{children:"finished"===e.status?(0,c.jsxs)("span",{style:{color:"green"},children:[" ",e.status," "]}):(0,c.jsx)("span",{children:e.status})})]},s)))})]}),(0,c.jsx)(i.rb,{className:"mt-2 mb-2",children:(0,c.jsxs)(i.b7,{md:4,xs:8,children:["Total Rows: ",k.length," Page: ",C," of ",w]})}),(0,c.jsxs)(i.E7,{activepage:p,pages:Math.ceil(k.length/N),onActivePageChange:g,align:"center",doublearrows:"false",children:[(0,c.jsx)(i.tn,{onClick:()=>!R&&g(p-1),disabled:1===p||R,style:{cursor:R?"default":"pointer"},children:"Prev"}),Array.from({length:Math.ceil(k.length/N)},((e,s)=>{const a=s+1,r=Math.ceil(k.length/N);return a>=p-1&&a<=p+1||r<=3||1===p&&a<=3||p===r&&a>=r-2?(0,c.jsx)(i.tn,{active:a===p,onClick:()=>g(a),style:{cursor:"pointer"},children:a},a):1===a&&p>2||a===r&&p<r-1?(0,c.jsx)(i.tn,{disabled:!0,style:{cursor:"default"},children:"..."},a):null})),(0,c.jsx)(i.tn,{onClick:()=>!R&&g(p+1),disabled:p===Math.ceil(k.length/N)||R,style:{cursor:R?"default":"pointer"},children:"Next"})]})]})]})})}),(0,c.jsxs)(i.Tk,{backdrop:"static",visible:o,className:"modal",onClose:()=>{h(!1)},children:[(0,c.jsx)(i.p0,{children:(0,c.jsx)(i.fl,{id:"VerticallyCenteredExample",children:"Data Roti"})}),(0,c.jsx)(i.sD,{children:(0,c.jsxs)(i.Sx,{striped:!0,bordered:!0,responsive:!0,children:[(0,c.jsx)(i.V,{children:(0,c.jsxs)(i.T6,{children:[(0,c.jsx)(i.is,{children:"Nama Roti"}),(0,c.jsx)(i.is,{children:"Jumlah Roti"}),(0,c.jsx)(i.is,{children:"Jumlah Roti Basi"})]})}),(0,c.jsx)(i.NR,{children:a.map(((e,s)=>(0,c.jsxs)(i.T6,{children:[(0,c.jsx)(i.NN,{children:e.nama_roti}),(0,c.jsx)(i.NN,{children:e.jumlah_roti}),(0,c.jsx)(i.NN,{children:e.jumlah_roti_basi})]},s)))})]})}),(0,c.jsx)(i.Ym,{children:(0,c.jsx)(i.u5,{color:"secondary",onClick:()=>h(!1),children:"Close"})})]})]})}},3400:(e,s,a)=>{a.d(s,{j:()=>r});var r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=372.3ae31dc4.chunk.js.map