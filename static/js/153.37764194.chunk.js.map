{"version":3,"file":"static/js/153.37764194.chunk.js","mappings":"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","sources":["views/admin/kurir/FormUpdateKurir.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Swal from 'sweetalert2'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CFormSelect,\n  CRow,\n  CSpinner,\n} from '@coreui/react'\nimport { Link } from 'react-router-dom'\n\nimport axios from 'axios'\n\nconst FormUpdateKurir = () => {\n  const [message, setMessage] = useState('')\n  const [dataArea, setDataArea] = useState([])\n  const [count, setCount] = useState({\n    nama: 0,\n    username: 0,\n    password: 0,\n  })\n  const [loading, setLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    id: '',\n    nama: '',\n    username: '',\n    password: '',\n    area: null,\n  })\n\n  useEffect(() => {\n    handleData()\n\n    axios\n      .get('https://be-myroti-production.up.railway.app/api/area')\n      .then((response) => {\n        console.log(response.data)\n        setDataArea(response.data)\n      })\n      .catch((error) => {\n        console.error('Error fetching data:', error)\n      })\n  }, [])\n\n  const handleData = () => {\n    const dataKurir = JSON.parse(localStorage.getItem('lsDataKurir'))\n    setCount({\n      nama: dataKurir.nama.length,\n      username: dataKurir.username.length,\n      password: dataKurir.password.length,\n    })\n    setFormData({\n      id: dataKurir.id,\n      nama: dataKurir.nama,\n      username: dataKurir.username,\n      password: dataKurir.password,\n      area: dataKurir.area_id,\n    })\n  }\n\n  const handleNamaChange = (e) => {\n    const inputValue = e.target.value\n    if (inputValue.length <= 50) {\n      setFormData({ ...formData, nama: inputValue })\n      setCount({ ...count, nama: inputValue.length })\n    } else {\n      setFormData({ ...formData, nama: inputValue.slice(0, 50) })\n    }\n  }\n\n  const handleUsernameChange = (e) => {\n    const inputValue = e.target.value\n    if (inputValue.length <= 25) {\n      setFormData({ ...formData, username: inputValue })\n      setCount({ ...count, username: inputValue.length })\n    } else {\n      setFormData({ ...formData, username: inputValue.slice(0, 25) })\n    }\n  }\n\n  const handlePasswordChange = (e) => {\n    const inputValue = e.target.value\n    if (inputValue.length <= 25) {\n      setFormData({ ...formData, password: inputValue })\n      setCount({ ...count, password: inputValue.length })\n    } else {\n      setFormData({ ...formData, password: inputValue.slice(0, 25) })\n    }\n  }\n\n  const handleAreaChange = (e) => {\n    const inputValue = e.target.value\n    setFormData({ ...formData, area: inputValue })\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    const newUser = {\n      nama: formData.nama,\n      username: formData.username,\n      password: formData.password,\n      area_id: formData.area,\n      user_type: 'kurir',\n    }\n    console.log(newUser)\n\n    try {\n      const response = await axios.put(\n        `https://be-myroti-production.up.railway.app/api/kurir/update/${formData.id}`,\n        newUser,\n      )\n      Swal.fire({\n        title: 'Berhasil',\n        text: `Data Kurir berhasil ditambahkan.`,\n        icon: 'success',\n        confirmButtonText: 'OK',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          window.location.href = '/admin/kurir'\n          console.log('User created successfully:', response.data)\n        }\n      })\n    } catch (error) {\n      console.log('Full error response:', error.response)\n      if (error.response && error.response.data && error.response.data.message) {\n        const resMessage =\n          (error.response && error.response.data && error.response.data.message) ||\n          error.message ||\n          error.toString()\n        setMessage(resMessage)\n      }\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n      <CCard>\n        <CForm onSubmit={handleSubmit}>\n          <CCardHeader>Form Update Kurir</CCardHeader>\n          <CCardBody>\n            <CRow>\n              <CCol xs={12}>\n                <CInputGroup className=\"mb-3\">\n                  <CFormInput\n                    name=\"Nama\"\n                    placeholder=\"Nama\"\n                    floatingLabel=\"Nama\"\n                    value={formData.nama}\n                    required\n                    onChange={handleNamaChange}\n                  />\n                  <CInputGroupText size=\"sm\">{count.nama}/50</CInputGroupText>\n                </CInputGroup>\n              </CCol>\n              <CCol xs={12}>\n                <CInputGroup className=\"mb-3\">\n                  <CFormInput\n                    name=\"Username\"\n                    placeholder=\"Username\"\n                    floatingLabel=\"Username\"\n                    value={formData.username}\n                    required\n                    onChange={handleUsernameChange}\n                  />\n                  <CInputGroupText size=\"sm\">{count.username}/25</CInputGroupText>\n                </CInputGroup>\n              </CCol>\n              <CCol xs={12}>\n                <CInputGroup className=\"mb-3\">\n                  <CFormInput\n                    name=\"Password\"\n                    placeholder=\"Password\"\n                    floatingLabel=\"Password\"\n                    value={formData.password}\n                    required\n                    onChange={handlePasswordChange}\n                  />\n                  <CInputGroupText size=\"sm\">{count.password}/25</CInputGroupText>\n                </CInputGroup>\n              </CCol>\n              <CCol xs={12}>\n                <CInputGroup className=\"mb-3\">\n                  <CInputGroupText size=\"sm\">Pilih Area</CInputGroupText>\n                  <CFormSelect\n                    id=\"inputGroupSelect01\"\n                    value={formData.area}\n                    onChange={handleAreaChange}\n                  >\n                    {dataArea.map((item) => (\n                      <option key={item.area_id} value={item.area_id}>\n                        {item.area_distribusi}\n                      </option>\n                    ))}\n                  </CFormSelect>\n                </CInputGroup>\n              </CCol>\n            </CRow>\n          </CCardBody>\n          <CCardFooter>\n            <CRow>\n              <CCol md={1}>\n                <Link to={`/admin/kurir`}>\n                  <CButton color=\"danger\" variant=\"outline\" className=\"ms-2\" title=\"Back\">\n                    Back\n                  </CButton>\n                </Link>\n              </CCol>\n              <CCol xs={1}>\n                {loading ? (\n                  <CButton color=\"primary\" variant=\"outline\" type=\"submit\" disabled>\n                    <CSpinner color=\"info\" size=\"sm\" />\n                  </CButton>\n                ) : (\n                  <CButton color=\"primary\" variant=\"outline\" type=\"submit\">\n                    Submit\n                  </CButton>\n                )}\n              </CCol>\n            </CRow>\n            <CRow className=\"mt-2\">\n              {message && <p className=\"error-message alert alert-danger\">{message}</p>}\n            </CRow>\n          </CCardFooter>\n        </CForm>\n      </CCard>\n    </>\n  )\n}\nexport default FormUpdateKurir\n"],"names":["FormUpdateKurir","message","setMessage","useState","dataArea","setDataArea","count","setCount","nama","username","password","loading","setLoading","formData","setFormData","id","area","useEffect","handleData","axios","get","then","response","console","log","data","catch","error","dataKurir","JSON","parse","localStorage","getItem","length","area_id","_jsx","_Fragment","children","CCard","_jsxs","CForm","onSubmit","async","e","preventDefault","newUser","user_type","put","concat","Swal","title","text","icon","confirmButtonText","result","isConfirmed","window","location","href","resMessage","toString","CCardHeader","CCardBody","CRow","CCol","xs","CInputGroup","className","CFormInput","name","placeholder","floatingLabel","value","required","onChange","inputValue","target","slice","CInputGroupText","size","CFormSelect","map","item","area_distribusi","CCardFooter","md","Link","to","CButton","color","variant","type","disabled","CSpinner"],"sourceRoot":""}