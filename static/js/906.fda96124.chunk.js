"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[906],{906:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var r=s(2791),n=s(5294),t=s(1830),l=s.n(t),i=s(2937),o=s(1087),m=s(184);const c=()=>{const[e,a]=(0,r.useState)(""),[s,t]=(0,r.useState)(!1),[c,d]=(0,r.useState)({nama:0,username:0,password:0}),[u,h]=(0,r.useState)({id:"",nama:"",username:"",password:""});(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("lsDataPemilik"));d({nama:e.nama.length,username:e.username.length,password:e.password.length}),h({id:e.id,nama:e.nama,username:e.username,password:e.password})}),[]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.xH,{children:(0,m.jsxs)(i.lx,{onSubmit:async e=>{e.preventDefault();const s={nama:u.nama,username:u.username,password:u.password,user_type:"pemilik"};try{const e=await n.Z.put("https://be-myroti-production.up.railway.app/api/pemilik/update/".concat(u.id),s);localStorage.removeItem("lsDataPemilik"),l().fire({title:"Berhasil",text:"Data ".concat(s.nama," telah berhasil diubah."),icon:"success",confirmButtonText:"OK"}).then((a=>{a.isConfirmed&&(window.location.href="/admin/pemilik",console.log("Roti updated successfully:",e.data))}))}catch(r){if(console.log("HTTP Status Code:",r.response.status),r.response&&r.response.data&&r.response.data.message){const e=r.response&&r.response.data&&r.response.data.message||r.message||r.toString();a(e)}t(!1)}},children:[(0,m.jsx)(i.bn,{children:"Form Edit Akun Pemilik"}),(0,m.jsx)(i.sl,{children:(0,m.jsxs)(i.rb,{children:[(0,m.jsx)(i.b7,{xs:12,children:(0,m.jsxs)(i.YR,{className:"mb-3",children:[(0,m.jsx)(i.jO,{name:"Nama",placeholder:"Nama",floatingLabel:"Nama",defaultValue:u.nama,required:!0,onChange:e=>{const a=e.target.value;a.length<=50?(h({...u,nama:a}),d({...c,nama:a.length})):h({...u,nama:a.slice(0,50)})}}),(0,m.jsxs)(i.wV,{size:"sm",children:[c.nama,"/50"]})]})}),(0,m.jsx)(i.b7,{xs:12,children:(0,m.jsxs)(i.YR,{className:"mb-3",children:[(0,m.jsx)(i.jO,{name:"Username",placeholder:"Username",floatingLabel:"Username",defaultValue:u.username,required:!0,onChange:e=>{const a=e.target.value;a.length<=25?(h({...u,username:a}),d({...c,username:a.length})):h({...u,username:a.slice(0,25)})}}),(0,m.jsxs)(i.wV,{size:"sm",children:[c.username,"/25"]})]})}),(0,m.jsx)(i.b7,{xs:12,children:(0,m.jsxs)(i.YR,{className:"mb-3",children:[(0,m.jsx)(i.jO,{name:"Password",placeholder:"Password",floatingLabel:"Password",defaultValue:u.password,required:!0,onChange:e=>{const a=e.target.value;a.length<=25?(h({...u,password:a}),d({...c,password:a.length})):h({...u,password:a.slice(0,25)})}}),(0,m.jsxs)(i.wV,{size:"sm",children:[c.password,"/25"]})]})})]})}),(0,m.jsxs)(i.Bt,{children:[(0,m.jsxs)(i.rb,{children:[(0,m.jsx)(i.b7,{md:1,children:(0,m.jsx)(o.rU,{to:"/admin/pemilik",children:(0,m.jsx)(i.u5,{color:"danger",variant:"outline",className:"ms-2",title:"Back",children:"Back"})})}),(0,m.jsx)(i.b7,{xs:1,children:s?(0,m.jsx)(i.u5,{color:"primary",variant:"outline",type:"submit",disabled:!0,children:(0,m.jsx)(i.LQ,{color:"info",size:"sm"})}):(0,m.jsx)(i.u5,{color:"primary",variant:"outline",type:"submit",children:"Submit"})})]}),(0,m.jsx)(i.rb,{className:"mt-2",children:e&&(0,m.jsx)("p",{className:"error-message alert alert-danger",children:e})})]})]})})})}}}]);
//# sourceMappingURL=906.fda96124.chunk.js.map