"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[153],{4153:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var r=s(2791),n=s(1830),t=s.n(n),l=s(2937),i=s(1087),o=s(5294),c=s(184);const d=()=>{const[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)([]),[d,m]=(0,r.useState)({nama:0,username:0,password:0}),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)({id:"",nama:"",username:"",password:"",area:null});(0,r.useEffect)((()=>{j(),o.Z.get("https://be-myroti-production.up.railway.app/api/area").then((e=>{console.log(e.data),n(e.data)})).catch((e=>{console.error("Error fetching data:",e)}))}),[]);const j=()=>{const e=JSON.parse(localStorage.getItem("lsDataKurir"));m({nama:e.nama.length,username:e.username.length,password:e.password.length}),x({id:e.id,nama:e.nama,username:e.username,password:e.password,area:e.area_id})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.xH,{children:(0,c.jsxs)(l.lx,{onSubmit:async e=>{e.preventDefault(),h(!0);const s={nama:p.nama,username:p.username,password:p.password,area_id:p.area,user_type:"kurir"};console.log(s);try{const e=await o.Z.put("https://be-myroti-production.up.railway.app/api/kurir/update/".concat(p.id),s);t().fire({title:"Berhasil",text:"Data Kurir berhasil ditambahkan.",icon:"success",confirmButtonText:"OK"}).then((a=>{a.isConfirmed&&(window.location.href="/admin/kurir",console.log("User created successfully:",e.data))}))}catch(r){if(console.log("Full error response:",r.response),r.response&&r.response.data&&r.response.data.message){const e=r.response&&r.response.data&&r.response.data.message||r.message||r.toString();a(e)}h(!1)}},children:[(0,c.jsx)(l.bn,{children:"Form Update Kurir"}),(0,c.jsx)(l.sl,{children:(0,c.jsxs)(l.rb,{children:[(0,c.jsx)(l.b7,{xs:12,children:(0,c.jsxs)(l.YR,{className:"mb-3",children:[(0,c.jsx)(l.jO,{name:"Nama",placeholder:"Nama",floatingLabel:"Nama",value:p.nama,required:!0,onChange:e=>{const a=e.target.value;a.length<=50?(x({...p,nama:a}),m({...d,nama:a.length})):x({...p,nama:a.slice(0,50)})}}),(0,c.jsxs)(l.wV,{size:"sm",children:[d.nama,"/50"]})]})}),(0,c.jsx)(l.b7,{xs:12,children:(0,c.jsxs)(l.YR,{className:"mb-3",children:[(0,c.jsx)(l.jO,{name:"Username",placeholder:"Username",floatingLabel:"Username",value:p.username,required:!0,onChange:e=>{const a=e.target.value;a.length<=25?(x({...p,username:a}),m({...d,username:a.length})):x({...p,username:a.slice(0,25)})}}),(0,c.jsxs)(l.wV,{size:"sm",children:[d.username,"/25"]})]})}),(0,c.jsx)(l.b7,{xs:12,children:(0,c.jsxs)(l.YR,{className:"mb-3",children:[(0,c.jsx)(l.jO,{name:"Password",placeholder:"Password",floatingLabel:"Password",value:p.password,required:!0,onChange:e=>{const a=e.target.value;a.length<=25?(x({...p,password:a}),m({...d,password:a.length})):x({...p,password:a.slice(0,25)})}}),(0,c.jsxs)(l.wV,{size:"sm",children:[d.password,"/25"]})]})}),(0,c.jsx)(l.b7,{xs:12,children:(0,c.jsxs)(l.YR,{className:"mb-3",children:[(0,c.jsx)(l.wV,{size:"sm",children:"Pilih Area"}),(0,c.jsx)(l.LX,{id:"inputGroupSelect01",value:p.area,onChange:e=>{const a=e.target.value;x({...p,area:a})},children:s.map((e=>(0,c.jsx)("option",{value:e.area_id,children:e.area_distribusi},e.area_id)))})]})})]})}),(0,c.jsxs)(l.Bt,{children:[(0,c.jsxs)(l.rb,{children:[(0,c.jsx)(l.b7,{md:1,children:(0,c.jsx)(i.rU,{to:"/admin/kurir",children:(0,c.jsx)(l.u5,{color:"danger",variant:"outline",className:"ms-2",title:"Back",children:"Back"})})}),(0,c.jsx)(l.b7,{xs:1,children:u?(0,c.jsx)(l.u5,{color:"primary",variant:"outline",type:"submit",disabled:!0,children:(0,c.jsx)(l.LQ,{color:"info",size:"sm"})}):(0,c.jsx)(l.u5,{color:"primary",variant:"outline",type:"submit",children:"Submit"})})]}),(0,c.jsx)(l.rb,{className:"mt-2",children:e&&(0,c.jsx)("p",{className:"error-message alert alert-danger",children:e})})]})]})})})}}}]);
//# sourceMappingURL=153.37764194.chunk.js.map